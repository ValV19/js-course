<!-- 
    1. Создать функцию calculate(operand1, operand2, sign), где operand1 и operand2 — два числа, sign — знак арифметической операции.
       Функция должна расчитывать результат операции, исходя из переданного ей знака. 
       Функция должна проверять корректность введенных чисел и знака операции.
       Все аргументы для функции принять от пользователя.

    2. Создать функцию, возводящую число в степень, число и сама степень вводится пользователем
    
    3.  Создать игру "Камень-Ножницы-Бумага".
        Выбор компьютера определяется строкой:  
        "var computerChoice = Math.random();
        alert(computerChoice);".
        Math.random() выдает произвольное число в промежутке от 0 до 1, на основании этого можно построить принцип выбора решения компьютера.

    4. Напишите функцию, которая возвращает n-е число Фибоначчи. Для решения используйте цикл.

-->
<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
    <title>hw4</title>
    <script type="text/javascript">

        //------------------------task-1-------------------
        console.log('--task-1--');
        document.write('task-1' + '<br/>'); 
        alert('!!! task-1 - calculate');

        // обьявляем функции
        function add() {
            result = x + y;
        }

        function sub() {
            result = x - y;
        }

        function mult() {
            result = x * y;
        }

        function div() {
            result = x / y;
        }
        
        // обьявляем переменную х и проверяем на правильность
        var x = +prompt("input x");
        if (!isNaN(+x)) {
            console.log('its number: ', x)
        } else {
            console.log('it is not a number: ', x);
            var x = +prompt("it is not a number! input x");

            if (!isNaN(+x)) {
                console.log('its number: ', x)
                } else {
                console.log('it is not a number: ', x);
                var x = +prompt("it is not a number! input x as number");
            }
        }

        // обьявляем знак операции
        var mathSymbol = prompt('input mathSymbol');
        console.log('mathSymbol: ' , mathSymbol);

        // обявляем переменную у и проверяем на правильность
        var y = +prompt('input y');
        if (!isNaN(+y)) {
                console.log('its number: ', y)
            } else {
                console.log('it is not a number; ', y);
                var y = +prompt("it is not a number! input y");

                if (!isNaN(+y)) {
                    console.log('its number: ', y)
                    } else {
                    console.log('it is not a number: ', y);
                    var y = +prompt("it is not a number! input y as number");
                }
            }

        var result;

        // выполняем операцию, сообщаем про неправильную операцию  
        if (mathSymbol == '+') {
            add(x,y);
            console.log('result = ', result);
        } else if (mathSymbol == '-') {
            sub(x,y);
            console.log('result = ', result);
        } else if (mathSymbol == '*') {
            mult(x,y);
            console.log('result = ', result);
        } else if (mathSymbol == '/') {
            div(x,y);
            console.log('result = ', result);
        } else { 
            console.log('it mathSymbol is not correct, result is not exist!');
            document.write('it mathSymbol is not correct, result is not exist!');
        }

        // сообщаем результат правильной операции
        if (mathSymbol == '+' || mathSymbol == '-' || mathSymbol == '*' || mathSymbol == '/') {
            document.write('x ' + mathSymbol + ' y = ' +  result);
        }
                
        document.write('<br/><br/><br/><br/>');    



        //------------------------task-2-------------------
        console.log('--task-2--');
        document.write('task-2' + '<br/>'); 
        alert('!!! task-2 - find number to degree');

        // обьявляем функцию и выводим ее результат
        function numberDegree () {
            if (degree >= 0) {
                for (var i = 0; i < degree; i++) {
                    n = n * number;
                    console.log('i = ' + i + ', n = ' + n);
                }               
            } else {
                for (var i = 0; i > degree; i--) {
                    n = n / number;
                    console.log('i = ' + i + ', n = ' + n);
                }  
            } 
            
            console.log(number + ' degree (' + degree + ') = ' + n);
            document.write('number = ' + number + '<br/>');
            document.write('degree = ' + degree + '<br/>');
            document.write(number + ' degree (' + degree + ') = ' + n);
        }
       
        // вводим данные
        var number = prompt('input number');
        var degree = prompt('input degree');
        var n = 1;

        // обращаемся к функции
        numberDegree ();       
        document.write('<br/><br/><br/><br/>');    


        //------------------------task-3-------------------
        console.log('--task-3--');
        alert('!!! task-3 - Камень-Ножницы-Бумага');
        document.write('task-3' + '<br/>'); 

        // массивы данных
        var userChoice = ['Камень', 'Ножницы', 'Бумага'];
        var computerChoice = ['Камень', 'Ножницы', 'Бумага'];

        // вводим и проверяем данные пользователя
        var i = +prompt('Сделайте выбор: 1-Камень; 2-Ножницы; 3-Бумага');
        console.log('i = ' + i);

        if (i < 1 || i > 3) {
            var i = +prompt('Вы неправильно указали число! Сделайте выбор снова: 1-Камень; 2-Ножницы; 3-Бумага');

            if (i < 1 || i > 3) {
                var i = +prompt('Вы снова неправильно указали число! У вас остался последний шанс сделать выбор: 1-Камень; 2-Ножницы; 3-Бумага');
               
                if (i < 1 || i > 3) {
                    alert('Вы использовали все попытки сделать правильный выбор');
                } 
            }
        }

        alert('Ваш выбор: ' + userChoice[i-1]);


        // выбор компьютера
        var j, k;
        j = Math.random();
        j = j * 3;
        console.log('random-number = ' + j);

        if (j < 1) {
            k = 1;
        } else if (j < 2) {
            k = 2;
        } else {
            k = 3;
        }
        console.log('k  = ' + k);
        alert('Выбор компьютера: ' +  computerChoice[k-1]);

        // выводим полученные результаты польтзователя и компьютера
        console.log('userChoice: ' + userChoice[i-1]);
        console.log('computerChoice: ' +  computerChoice[k-1] );

        document.write('Ваш выбор: ' + userChoice[i-1] + '<br/>');
        document.write('Выбор компьютера: ' +  computerChoice[k-1] + '<br/>');

        // определяем победителя
        if (i === k) {
            document.write('<br/>' + 'Результат игры - ничья!');
        } else if (i == 1 && k == 2) {
            document.write('<br/>' + 'Поздравляем! Вы выиграли!');
        } else if (i == 2 && k == 3) {
            document.write('<br/>' + 'Поздравляем! Вы выиграли!');
        } else if (i == 3 && k == 1) {
            document.write('<br/>' + 'Поздравляем! Вы выиграли!');
        } else {
            document.write('<br/>' + 'Увы! Вы проиграли...');
        }

        document.write('<br/><br/><br/><br/>');    


        //------------------------task-4-------------------
        console.log('--task-4--');
        document.write('task-4' + '<br/>'); 
        alert('!!! task-4 -find Fibonacci');
        

        // указываем первые числа Фибоначчи, они не рассчитываются!
        var fib = [0, 1];
        console.log(fib[0]);
        console.log(fib[1]);

        // Функция рассчитывает и выводит числа фибоначчи, начиная со 3-го. Нулевого и отрицательного числа Фибоначчи не существует. 
        function fibonacci() {
            if (n == 1 || n ==2) {
                console.log('for n = ' + n + ', fib = ' + fib[n-1])
                document.write('for n = ' + n + ', fibonacci = ' + fib[n-1]); 

            } else if (n > 2) {
                for (var i = 2; i < n; i++) {
                    fib[i] = fib[i-1] + fib[i-2];
                    fib = fib.concat(fib[i]);
                    console.log(fib[i]);
                }
                console.log('for n = ' + n + ', fib = ' + fib[i]);
                document.write('for n = ' + n + ', fibonacci = ' + fib[n]); 

            } else {
                console.log('your n is not correct, input n');
                document.write('your n is not correct, input n');
            }
        }

        // вводим n-й элемент и обращаемся к функции        
        var n = prompt('input n, n > 0');
        fibonacci();  
        
    </script>
</head>
<body>
</body>
</html>
